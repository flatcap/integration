From 9fe6e017d5644a9914e1dfbfb32795b07577a0c1 Mon Sep 17 00:00:00 2001
From: Richard Russon <rich@flatcap.org>
Date: Fri, 27 May 2016 03:09:37 +0100
Subject: [PATCH 12/13] mutt-1.5.21-mailcap

---
 init.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/init.c b/init.c
index 050f88a..9639518 100644
--- a/init.c
+++ b/init.c
@@ -3322,8 +3322,8 @@ void mutt_init (int skip_sys_rc, LIST *commands)
     MailcapPath = safe_strdup (p);
   else
   {
-    /* Default search path from RFC1524 */
-    MailcapPath = safe_strdup ("~/.mailcap:" PKGDATADIR "/mailcap:" SYSCONFDIR "/mailcap:/etc/mailcap:/usr/etc/mailcap:/usr/local/etc/mailcap");
+    /* Default search path from RFC1524 plus fallback for mutt specific defaults */
+    MailcapPath = safe_strdup ("~/.mailcap:" PKGDATADIR "/mailcap:" SYSCONFDIR "/mailcap:/etc/mailcap:/usr/etc/mailcap:/usr/local/etc/mailcap:" SYSCONFDIR "/mutt/mailcap");
   }
 
   Tempdir = safe_strdup ((p = getenv ("TMPDIR")) ? p : "/tmp");
-- 
2.8.2

